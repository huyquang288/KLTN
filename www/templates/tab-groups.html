<style>
    .plus-circle {
        display: inline-block;

        width: 60px;
        height: 60px;
        border-radius: 30px;
        border: 2px dashed #D9D9D9;
        padding: 7px;
    }

    .plus-circle i {
        font-size: 40px;
    }

    /*.item h3 small {*/
        /*overflow: hidden;*/
        /*text-overflow: ellipsis;*/
        /*white-space: nowrap;*/
    /*}*/
</style>

<ion-view view-title="Groups" id="tab-groups">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-positive" ng-click="openNewGroup()">Create</button>
    </ion-nav-buttons>

    <ion-content>

        <ion-item>
            <button class="button button-small button-block icon-left ion-ios-search" 
                    ng-click="openGroupSearch()" style="margin: 0">
                Search for existed groups
            </button>
        </ion-item> 
        <!-- {{groupsOfUser.length}} -->
        <div ng-if="groupsOfUser.length">
            <div ng-repeat="group in groupsOfUser" ng-if="$index%2==0" class="row">
                <div class="col col-50 {{($index==groupsOfUser.length-1) ?'col-offset-25' :''}}">
                    <div class="col-100 list card">
                        <a nav-direction="forward"
                           class="item item-avatar item-avatar-center item-avatar-l text-center"
                           href="#/topics/{{group.id}}/true">
                            <!-- <img ng-src="{{room.rooms.thumbnail}}"> -->

                            <h3>
                                <small>{{group.name}}</small>
                            </h3>

                            <p>{{group.description}}</p>
                        </a>

                        <a nav-direction="forward" class="item item-divider text-center" href="#/group-members/{{group.id}}">
                            <p>
                                <span ng-if="group.id==member.groupId" ng-repeat="member in members">
                                    {{member.firstName}} <!-- {{member.groupId}} {{members[$index+1].groupId}} -->
                                    <!-- {{((member.groupId==members[$index+1].groupId) ?'1' :'')}} -->
                                </span>
                            </p>
                        </a>
                    </div>
                </div>
                <div ng-if="$index+1<groupsOfUser.length" class="col col-50">
                    <div class="col-100 list card">
                        <a nav-direction="forward"
                           class="item item-avatar item-avatar-center item-avatar-l text-center"
                           href="#/topics/{{groupsOfUser[$index+1].id}}/true">
                            <!-- <img ng-src="{{room.rooms.thumbnail}}"> -->

                            <h3>
                                <small>{{groupsOfUser[$index+1].name}}</small>
                            </h3>

                            <p>{{groupsOfUser[$index+1].description}}</p>
                        </a>

                        <a nav-direction="forward" class="item item-divider text-center" href="#/group-members/{{groupsOfUser[$index+1].id}}">
                            <p>
                                <span ng-if="groupsOfUser[$index+1].id==member.groupId" ng-repeat="member in members">
                                    {{member.firstName}} <!-- {{member.groupId}} {{members[$index+1].groupId}} -->
                                    <!-- {{((member.groupId==members[$index+1].groupId) ?'1' :'')}} -->
                                </span>
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    
        <h4><b>Sugguest groups</b></h4>
        <div ng-repeat="group in suggestGroups" ng-if="$index%2==0" class="row">
            <div class="col col-50 {{($index==suggestGroups.length-1) ?'col-offset-25' :''}}">
                <div class="col-100 list card">
                    <a nav-direction="forward"
                       class="item item-avatar item-avatar-center item-avatar-l text-center"
                       href="#/topics/{{group.id}}/false">
                        <!-- <img ng-src="{{room.rooms.thumbnail}}"> -->

                        <h3>
                            <small>{{group.name}}</small>
                        </h3>

                        <p>{{group.description}}</p>
                    </a>

                    <a nav-direction="forward" class="item item-divider text-center" href="#/group-members/{{group.id}}">
                        <p>
                            <span ng-if="group.id==member.groupId" ng-repeat="member in members">
                                {{member.firstName}} <!-- {{member.groupId}} {{members[$index+1].groupId}} -->
                                <!-- {{((member.groupId==members[$index+1].groupId) ?'1' :'')}} -->
                            </span>
                        </p>
                    </a>
                </div>
            </div>
            <div ng-if="$index+1<suggestGroups.length" class="col col-50">
                <div class="col-100 list card">
                    <a nav-direction="forward"
                       class="item item-avatar item-avatar-center item-avatar-l text-center"
                       href="#/topics/{{suggestGroups[$index+1].id}}/false">
                        <!-- <img ng-src="{{room.rooms.thumbnail}}"> -->

                        <h3>
                            <small>{{suggestGroups[$index+1].name}}</small>
                        </h3>

                        <p>{{suggestGroups[$index+1].description}}</p>
                    </a>

                    <a nav-direction="forward" class="item item-divider text-center" href="#/group-members/{{suggestGroups[$index+1].id}}">
                        <p>
                            <span ng-if="suggestGroups[$index+1].id==member.groupId" ng-repeat="member in members">
                                {{member.firstName}} <!-- {{member.groupId}} {{members[$index+1].groupId}} -->
                                <!-- {{((member.groupId==members[$index+1].groupId) ?'1' :'')}} -->
                            </span>
                        </p>
                    </a>
                </div>
            </div>
        </div>

        <!--show when there is no group-->
        <!--<div class="row">-->
            <!--<div class="col text-center">-->
                <!--<div class="list card">-->
                    <!--<div class="item" style="padding: 30px 15px">-->
                        <!--<a class="plus-circle" ng-click="openNewGroup()">-->
                            <!--<i class="icon ion-ios-plus-empty stable"></i>-->
                        <!--</a>-->

                        <!--<div style="height: 10px"></div>-->
                        <!--<h2 class="positive">-->
                            <!--<small>New Group</small>-->
                        <!--</h2>-->
                        <!--<p class="stable">for family?</p>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="col text-center">-->
                <!--<div class="list card">-->
                    <!--<div class="item" style="padding: 30px 15px">-->
                        <!--<a class="plus-circle" ng-click="openNewGroup()">-->
                            <!--<i class="icon ion-ios-plus-empty stable"></i>-->
                        <!--</a>-->

                        <!--<div style="height: 10px"></div>-->
                        <!--<h2 class="positive">-->
                            <!--<small>New Group</small>-->
                        <!--</h2>-->
                        <!--<p class="stable">for dinner plans?</p>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->

        <!--<div class="row">-->
            <!--<div class="col text-center">-->
                <!--<div class="list card">-->
                    <!--<div class="item" style="padding: 30px 15px">-->
                        <!--<a class="plus-circle" ng-click="openNewGroup()">-->
                            <!--<i class="icon ion-ios-plus-empty stable"></i>-->
                        <!--</a>-->

                        <!--<div style="height: 10px"></div>-->
                        <!--<h2 class="positive">-->
                            <!--<small>New Group</small>-->
                        <!--</h2>-->
                        <!--<p class="stable">for photos?</p>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="col text-center">-->
                <!--<div class="list card">-->
                    <!--<div class="item" style="padding: 30px 15px">-->
                        <!--<a class="plus-circle" ng-click="openNewGroup()">-->
                            <!--<i class="icon ion-ios-plus-empty stable"></i>-->
                        <!--</a>-->

                        <!--<div style="height: 10px"></div>-->
                        <!--<h2 class="positive">-->
                            <!--<small>New Group</small>-->
                        <!--</h2>-->
                        <!--<p class="stable">for team?</p>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    </ion-content>
</ion-view>
